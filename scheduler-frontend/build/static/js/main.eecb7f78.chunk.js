(this.webpackJsonppep=this.webpackJsonppep||[]).push([[0],{34:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(28),r=a.n(s),l=a(2),i=(a(34),a(3)),j=a(14),u=a(0);var d=function(e){var t=e.setCurrDate,a=Object(c.useState)([]),n=Object(l.a)(a,2),s=n[0],r=n[1],d=Object(c.useState)([]),b=Object(l.a)(d,2),h=b[0],o=b[1],O=Object(c.useState)((new Date).getMonth()),p=Object(l.a)(O,2),x=p[0],m=p[1],g=Object(c.useState)((new Date).getFullYear()),f=Object(l.a)(g,2),v=f[0],D=f[1],w=Object(c.useState)(new Date(v,x+1,0).getDate()),S=Object(l.a)(w,2),N=S[0],y=S[1],M=Object(c.useState)(new Date),k=Object(l.a)(M,2),Y=k[0],C=(k[1],Object(c.useState)((new Date).toDateString())),F=Object(l.a)(C,2),_=F[0],E=F[1],I=Object(c.useState)(),H=Object(l.a)(I,2),A=(H[0],H[1],Object(i.f)()),T=function(e){return function(){var a=new Date(v,x+1,e);console.log(a),t(a),A.push("/add")}};function J(e){console.log("Clicked"),r([]),o([]),"prev"===e?(0===x&&(D((function(e){D(e-1)})),m(12)),m((function(e){m(e-1)}))):"next"===e&&(11===x&&(D((function(e){D(e+1)})),m(-1)),m((function(e){m(e+1)})))}return Object(c.useEffect)((function(){x!==Y.getMonth()||v!==Y.getFullYear()?E(v):E(Y.toDateString()),y(new Date(v,x+1,0).getDate())}),[x]),Object(c.useEffect)((function(){!function(){for(var e=[],t=[],a=1;a<=N;a++)a===Y.getDate()&&x===Y.getMonth()?e.push(Object(u.jsx)("div",{className:"today",onClick:T(a),children:a})):e.push(Object(u.jsx)("div",{onClick:T(a),children:a}));r(e);var c=new Date(v,x,1).getDay(),n=new Date(v,x,0).getDate();for(a=c;a>=1;a--)t.push(Object(u.jsx)("div",{className:"prev_date",children:n})),n--;t.reverse(),o(t)}()}),[N,x]),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)("button",{className:"dropbtn",children:Object(u.jsx)(j.b,{to:"/schedules",style:{color:"white",textDecoration:"none"},children:"Schedules"})}),Object(u.jsxs)("div",{className:"calender",children:[Object(u.jsxs)("div",{className:"month",children:[Object(u.jsx)("div",{className:"prev",onClick:function(){return J("prev")},children:Object(u.jsx)("i",{className:"fas fa-angle-left"})}),Object(u.jsxs)("div",{className:"data",children:[Object(u.jsx)("h2",{id:"month",children:["January","February","March","April","May","June","July","August","September","October","November","December"][x]}),Object(u.jsx)("p",{children:_})]}),Object(u.jsx)("div",{className:"next",onClick:function(){return J("next")},children:Object(u.jsx)("i",{className:"fas fa-angle-right"})})]}),Object(u.jsxs)("div",{className:"weekdays",children:[Object(u.jsx)("div",{children:"Sun"}),Object(u.jsx)("div",{children:"Mon"}),Object(u.jsx)("div",{children:"Tue"}),Object(u.jsx)("div",{children:"Wed"}),Object(u.jsx)("div",{children:"Thu"}),Object(u.jsx)("div",{children:"Fri"}),Object(u.jsx)("div",{children:"Sat"})]}),Object(u.jsxs)("div",{className:"days",children:[h&&h,s,Object(u.jsx)("div",{className:"next_date",children:"1"}),Object(u.jsx)("div",{className:"next_date",children:"2"}),Object(u.jsx)("div",{className:"next_date",children:"3"}),Object(u.jsx)("div",{className:"next_date",children:"4"}),Object(u.jsx)("div",{className:"next_date",children:"5"}),Object(u.jsx)("div",{className:"next_date",children:"6"})]}),Object(u.jsx)("button",{className:"add_btn",children:Object(u.jsx)(j.b,{to:"/add",style:{color:"white",textDecoration:"none"},children:"Add"})})]})]})},b=a(9),h=a.n(b),o=a(11),O=a(12),p=a.n(O);a(63);var x=function(e){var t=e.currdate,a=Object(c.useState)(""),n=Object(l.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(""),j=Object(l.a)(i,2),d=j[0],b=j[1],O=Object(c.useState)(),x=Object(l.a)(O,2),m=x[0],g=x[1],f=Object(c.useState)(""),v=Object(l.a)(f,2),D=v[0],w=v[1],S=Object(c.useState)(""),N=Object(l.a)(S,2),y=N[0],M=N[1],k=Object(c.useState)([]),Y=Object(l.a)(k,2),C=Y[0],F=Y[1],_=Object(c.useState)(),E=Object(l.a)(_,2),I=E[0],H=E[1],A=Object(c.useState)(),T=Object(l.a)(A,2),J=T[0],q=T[1],B=Object(c.useState)(),W=Object(l.a)(B,2),G=W[0],z=W[1],K=Object(c.useState)(),L=Object(l.a)(K,2),P=L[0],Q=L[1],R=Object(c.useState)(),U=Object(l.a)(R,2),V=U[0],X=U[1],Z=Object(c.useState)(""),$=Object(l.a)(Z,2),ee=$[0],te=$[1];function ae(){return(ae=Object(o.a)(h.a.mark((function e(t){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),I&&s&&d&&(m||ee)){e.next=4;break}return w("Enter all required details"),e.abrupt("return");case 4:return m?(a=new Date(m.getFullYear(),m.getMonth(),m.getDate(),J,G),c=new Date(m.getFullYear(),m.getMonth(),m.getDate(),P,V)):(n=new Date(ee),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),J,G),c=new Date(n.getFullYear(),n.getMonth(),n.getDate(),P,V)),r={starttime:a,endtime:c,teacherId:I},console.log(r),e.prev=7,e.next=10,p.a.post("https://scheduler-slanski.herokuapp.com/schedule",r);case 10:e.sent,M("Schedule added successfully"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),w("A batch is already scheduled at this time");case 17:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){if(t){var e=t.getMonth(),a=t.getDate();e<10&&(e="0"+e),t.getDate()<10&&(a="0"+t.getDate()),te(t.getFullYear()+"-"+e+"-"+a)}}),[t]),Object(c.useEffect)((function(){if(m){var e=m.getMonth(),t=m.getDate();(e+=1)<10&&(e="0"+e),t<10&&(t="0"+m.getDate()),te(m.getFullYear()+"-"+e+"-"+t)}}),[m]),Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://scheduler-slanski.herokuapp.com/teacher");case 2:t=e.sent,F(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.jsx)("div",{className:"batch-crud",children:Object(u.jsxs)("div",{className:"container ",children:[Object(u.jsx)("h2",{children:"Add a Schedule for the teacher"}),Object(u.jsxs)("form",{className:"add-batch-form",onSubmit:function(e){return ae.apply(this,arguments)},children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{className:"input_labels",children:"Select a teacher"}),Object(u.jsxs)("select",{onChange:function(e){w(""),M(""),H(e.target.value)},children:[Object(u.jsx)("option",{selected:!0,children:"Select a teacher"}),C.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name})}))]})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{className:"input_labels",children:" Enter date "}),Object(u.jsx)("input",{type:"date",onChange:function(e){w(""),M(""),g(new Date(e.target.value))},value:ee})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{className:"input_labels",children:" Enter start time "}),Object(u.jsx)("input",{type:"time",onChange:function(e){w(""),M("");var t=e.target.value,a=t[0]+t[1],c=t[3]+t[4],n=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),parseInt(a),parseInt(c),0,0);r(n),q(parseInt(a)),z(parseInt(c))}})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{className:"input_labels",children:" Enter end time "}),Object(u.jsx)("input",{type:"time",onChange:function(e){w(""),M("");var t=e.target.value,a=t[0]+t[1],c=t[3]+t[4],n=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),parseInt(a),parseInt(c),0,0);b(n),Q(parseInt(a)),X(parseInt(c))}})]}),Object(u.jsx)("button",{className:"btn btn-primary add-batch-btn",children:"Add Schedule"})]}),Object(u.jsx)("p",{children:D&&D}),Object(u.jsx)("p",{children:y&&y})]})})},m=(a(64),a(15)),g=a.n(m),f=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),i=r[0],j=r[1],d=Object(c.useState)([]),b=Object(l.a)(d,2),O=b[0],x=b[1],m=Object(c.useState)([]),f=Object(l.a)(m,2),v=f[0],D=f[1],w=Object(c.useState)(),S=Object(l.a)(w,2),N=S[0],y=S[1],M=Object(c.useState)(),k=Object(l.a)(M,2),Y=k[0],C=k[1],F=Object(c.useState)(""),_=Object(l.a)(F,2),E=_[0],I=_[1];function H(){return(H=Object(o.a)(h.a.mark((function e(t){var a,c,n,s,r,l,i,u,d,b,o,O,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N&&Y){e.next=4;break}return I("Enter all required details"),e.abrupt("return");case 4:return e.prev=4,e.next=7,p.a.get("https://scheduler-slanski.herokuapp.com/schedule/".concat(N));case 7:a=e.sent,c=a.data,n=[],s=[],r=[],l=(new Date).getDate(),i=(new Date).getMonth(),u=(new Date).getFullYear(),"today"===Y?c.map((function(e){var t=new Date(e.starttime),a=new Date(e.endtime);t.getDate()===l&&t.getMonth()===i&&t.getFullYear()===u&&(r.push(t.toDateString()),n.push(t.getHours()+":"+t.getMinutes()),s.push(a.getHours()+":"+a.getMinutes()))})):"week"===Y?(d=new Date,b=d.getDate()-d.getDay(),o=b+6,O=new Date(d.setDate(b)),g()(O).format("YYYY-MM-DD"),m=new Date(d.setDate(o)),g()(m).format("YYYY-MM-DD"),c.map((function(e){var t=new Date(e.starttime),a=new Date(e.endtime);g()(t).format("YYYY-MM-DD"),g()(t).isBetween(O,m)&&(r.push(t.toDateString()),n.push(t.getHours()+":"+t.getMinutes()),s.push(a.getHours()+":"+a.getMinutes()))}))):"month"===Y?c.map((function(e){var t=new Date(e.starttime),a=new Date(e.endtime);t.getMonth()===i&&t.getFullYear()===u&&(r.push(t.toDateString()),n.push(t.getHours()+":"+t.getMinutes()),s.push(a.getHours()+":"+a.getMinutes()))})):"all"===Y&&c.map((function(e){var t=new Date(e.starttime),a=new Date(e.endtime);r.push(t.toDateString()),n.push(t.getHours()+":"+t.getMinutes()),s.push(a.getHours()+":"+a.getMinutes())})),x(n),D(s),j(r),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://scheduler-slanski.herokuapp.com/teacher");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.jsxs)("div",{className:"broad_view",children:[Object(u.jsx)("p",{className:"fail",children:E&&E}),Object(u.jsxs)("div",{className:"scheduler",children:[Object(u.jsxs)("label",{className:"teacher_selector",children:[Object(u.jsx)("span",{className:"labels",children:"Select a teacher"}),Object(u.jsxs)("select",{onChange:function(e){I(""),y(e.target.value)},children:[Object(u.jsx)("option",{selected:!0,children:"Select a teacher"}),a.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name})}))]})]}),Object(u.jsxs)("label",{className:"category_selector",children:[Object(u.jsx)("span",{className:"labels",children:"Select a Category"}),Object(u.jsxs)("select",{onChange:function(e){I(""),C(e.target.value)},children:[Object(u.jsx)("option",{selected:!0,children:"Select a Category"}),Object(u.jsx)("option",{value:"all",children:"All"}),Object(u.jsx)("option",{value:"today",children:"Today"}),Object(u.jsx)("option",{value:"week",children:"This Week"}),Object(u.jsx)("option",{value:"month",children:"This Month"})]})]}),Object(u.jsx)("button",{className:"find",onClick:function(e){return H.apply(this,arguments)},children:"Go"})]}),Object(u.jsxs)("div",{className:"table",children:[Object(u.jsx)("div",{className:"schedules",children:Object(u.jsxs)("ul",{className:"dates",children:[Object(u.jsx)("li",{className:"heading",children:"Day & Date"}),i.map((function(e){return Object(u.jsx)("li",{children:e})}))]})}),Object(u.jsx)("div",{className:"schedules",children:Object(u.jsxs)("ul",{className:"starts",children:[Object(u.jsx)("li",{className:"heading",children:"Start Time"}),O.map((function(e){return Object(u.jsx)("li",{children:e})}))]})}),Object(u.jsx)("div",{className:"schedules",children:Object(u.jsxs)("ul",{className:"ends",children:[Object(u.jsx)("li",{className:"heading",children:"End Time"}),v.map((function(e){return Object(u.jsx)("li",{children:e})}))]})})]})]})},v=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(u.jsx)(j.a,{children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",children:Object(u.jsx)(d,{setCurrDate:n})}),Object(u.jsx)(i.a,{exact:!0,path:"/add",children:Object(u.jsx)(x,{currdate:a})}),Object(u.jsx)(i.a,{exact:!0,path:"/schedules",component:f})]})})};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.eecb7f78.chunk.js.map